\hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep}{}\section{com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep Class Reference}
\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep}\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}


Inheritance diagram for com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a7a29935d4f0dd55a5dd0c0f5f93eba8c}{Client\+Listen\+Bicep}} (int port\+Number, Text\+View field, \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_udp_client_handler_bicep}{Udp\+Client\+Handler\+Bicep}} handler)
\begin{DoxyCompactList}\small\item\em Class constructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a00c62e73027050af19a527f480a9be15}{run}} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
Inet\+Address \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a02882f0c88f5713407dbf2630e1909ff}{server\+Addr}}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a1a9854e6d93822ec317a1e4e2ef781cb}{send\+State}} (String state)
\begin{DoxyCompactList}\small\item\em Used to display whether the app is connected to the socket. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a5277e5a6fa795cd86dcc35b08952b17c}{port}}
\item 
Datagram\+Socket \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_aa43b7aebe53f1efa443f014fe5efc7ab}{udp\+Socket}}
\item 
Text\+View \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a9634b0b5b3f74403071bf066606a0555}{display\+Field}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 15 of file Client\+Listen\+Bicep.\+java.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a7a29935d4f0dd55a5dd0c0f5f93eba8c}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a7a29935d4f0dd55a5dd0c0f5f93eba8c}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!ClientListenBicep@{ClientListenBicep}}
\index{ClientListenBicep@{ClientListenBicep}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{ClientListenBicep()}{ClientListenBicep()}}
{\footnotesize\ttfamily com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+Client\+Listen\+Bicep (\begin{DoxyParamCaption}\item[{int}]{port\+Number,  }\item[{Text\+View}]{field,  }\item[{\mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_udp_client_handler_bicep}{Udp\+Client\+Handler\+Bicep}}}]{handler }\end{DoxyParamCaption})}



Class constructor. 


\begin{DoxyParams}{Parameters}
{\em port\+Number} & port to listen to \\
\hline
{\em field} & View where the messages from the server are displayed in \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_main_activity}{Main\+Activity}} \\
\hline
{\em handler} & This is the thread handler, employed to display messages from the server \\
\hline
\end{DoxyParams}


Definition at line 40 of file Client\+Listen\+Bicep.\+java.


\begin{DoxyCode}{0}
\DoxyCodeLine{40                                                                                             \{}
\DoxyCodeLine{41         \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a5277e5a6fa795cd86dcc35b08952b17c}{port}} = portNumber;}
\DoxyCodeLine{42         \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a9634b0b5b3f74403071bf066606a0555}{displayField}} = field;}
\DoxyCodeLine{43         this.handler = handler;}
\DoxyCodeLine{44         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{45             \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_aa43b7aebe53f1efa443f014fe5efc7ab}{udpSocket}} = \textcolor{keyword}{new} DatagramSocket(\mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a5277e5a6fa795cd86dcc35b08952b17c}{port}});}
\DoxyCodeLine{46         \} \textcolor{keywordflow}{catch} (SocketException e) \{}
\DoxyCodeLine{47             e.printStackTrace();}
\DoxyCodeLine{48         \}}
\DoxyCodeLine{49     \}}

\end{DoxyCode}


References com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+display\+Field, com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+port, and com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+udp\+Socket.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a00c62e73027050af19a527f480a9be15}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a00c62e73027050af19a527f480a9be15}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!run@{run}}
\index{run@{run}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily void com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This is a method that runs the udp client thread. It uses a variable run that sets the current state of the thread (if it is running or stopped). While this variable is true, a socket is created to communicate with the server on the binded port and read the data from the server.

Definition at line 76 of file Client\+Listen\+Bicep.\+java.


\begin{DoxyCode}{0}
\DoxyCodeLine{76                       \{}
\DoxyCodeLine{84         \textcolor{keywordtype}{boolean} \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a00c62e73027050af19a527f480a9be15}{run}} = \textcolor{keyword}{true};}
\DoxyCodeLine{85         \textcolor{keywordflow}{while} (\mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a00c62e73027050af19a527f480a9be15}{run}}) \{}
\DoxyCodeLine{86             \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{87                 \textcolor{keywordtype}{byte}[] message = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[8000];}
\DoxyCodeLine{88                 DatagramPacket packet = \textcolor{keyword}{new} DatagramPacket(message,message.length);}
\DoxyCodeLine{89                 Log.d(\textcolor{stringliteral}{"UDP client: "}, \textcolor{stringliteral}{"about to wait to receive"});}
\DoxyCodeLine{90                 \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_aa43b7aebe53f1efa443f014fe5efc7ab}{udpSocket}}.receive(packet);}
\DoxyCodeLine{91                 String text = \textcolor{keyword}{new} String(message, 0, packet.getLength());}
\DoxyCodeLine{92                 Log.d(\textcolor{stringliteral}{"Received data"}, text);}
\DoxyCodeLine{93                 Log.d(\textcolor{stringliteral}{"Remote IP: "}, packet.getAddress().toString());}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{comment}{//              pass received packet (text) to handler}}
\DoxyCodeLine{97 \textcolor{comment}{//                handler.sendMessage(}}
\DoxyCodeLine{98 \textcolor{comment}{//                        Message.obtain(handler, UdpClientHandler.UPDATE\_MSG, text));}}
\DoxyCodeLine{99 }
\DoxyCodeLine{100                 \textcolor{comment}{// check for handshake with the server}}
\DoxyCodeLine{101 }
\DoxyCodeLine{102                 \textcolor{keywordflow}{if} (\textcolor{stringliteral}{"train-A-wear online\(\backslash\)n"}.equals(text)) \{}
\DoxyCodeLine{103                     Log.d(TAG, \textcolor{stringliteral}{"handshake received"});}
\DoxyCodeLine{104                     handler.sendMessage(}
\DoxyCodeLine{105                             Message.obtain(handler, UdpClientHandlerBicep.UPDATE\_STATE, packet.getAddress().toString().substring(1)));}
\DoxyCodeLine{106 }
\DoxyCodeLine{107                     Log.d(TAG, \textcolor{stringliteral}{"IPaddr:  "} +  packet.getAddress().toString().substring(1));}
\DoxyCodeLine{108 }
\DoxyCodeLine{109                     handler.sendMessage(}
\DoxyCodeLine{110                             Message.obtain(handler, UdpClientHandlerBicep.UPDATE\_MSG, \textcolor{stringliteral}{"0"}));}
\DoxyCodeLine{111 }
\DoxyCodeLine{112                 \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{stringliteral}{"train-a-wear ready"}.equals(text)) \{}
\DoxyCodeLine{113                     \textcolor{comment}{// check for own messages broadcasted to network}}
\DoxyCodeLine{114                     Log.d(TAG, \textcolor{stringliteral}{"mirror on the wall"});}
\DoxyCodeLine{115                     handler.sendMessage(}
\DoxyCodeLine{116                             Message.obtain(handler, UdpClientHandlerBicep.UPDATE\_MSG, \textcolor{stringliteral}{"3"}));}
\DoxyCodeLine{117 }
\DoxyCodeLine{118                     Log.d(TAG, \textcolor{stringliteral}{"no shaky hands"});}
\DoxyCodeLine{119                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{120                     \textcolor{comment}{// obtain messages from RPI}}
\DoxyCodeLine{121                     handler.sendMessage(}
\DoxyCodeLine{122                             Message.obtain(handler, UdpClientHandlerBicep.UPDATE\_MSG, text));}
\DoxyCodeLine{123                 \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125                 \textcolor{comment}{// check for own messages broadcasted to network}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127 }
\DoxyCodeLine{128             \}\textcolor{keywordflow}{catch} (IOException e) \{}
\DoxyCodeLine{129                 Log.e(\textcolor{stringliteral}{"UDP client: IOException"}, \textcolor{stringliteral}{"error: "}, e);}
\DoxyCodeLine{130                 \mbox{\hyperlink{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a00c62e73027050af19a527f480a9be15}{run}} = \textcolor{keyword}{false};}
\DoxyCodeLine{131             \}}
\DoxyCodeLine{132         \}}
\DoxyCodeLine{133     \}}

\end{DoxyCode}


References com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+udp\+Socket, com.\+example.\+trainawearapplication.\+Udp\+Client\+Handler\+Bicep.\+U\+P\+D\+A\+T\+E\+\_\+\+M\+SG, and com.\+example.\+trainawearapplication.\+Udp\+Client\+Handler\+Bicep.\+U\+P\+D\+A\+T\+E\+\_\+\+S\+T\+A\+TE.

\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a1a9854e6d93822ec317a1e4e2ef781cb}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a1a9854e6d93822ec317a1e4e2ef781cb}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!sendState@{sendState}}
\index{sendState@{sendState}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{sendState()}{sendState()}}
{\footnotesize\ttfamily void com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+send\+State (\begin{DoxyParamCaption}\item[{String}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Used to display whether the app is connected to the socket. 


\begin{DoxyParams}{Parameters}
{\em state} & takes values connected(), disconnected, not-\/oconfigured \\
\hline
\end{DoxyParams}


Definition at line 68 of file Client\+Listen\+Bicep.\+java.


\begin{DoxyCode}{0}
\DoxyCodeLine{68                                         \{}
\DoxyCodeLine{69         handler.sendMessage(}
\DoxyCodeLine{70                 Message.obtain(handler,}
\DoxyCodeLine{71                         UdpClientHandlerBicep.UPDATE\_STATE, state));}
\DoxyCodeLine{72     \}}

\end{DoxyCode}


References com.\+example.\+trainawearapplication.\+Udp\+Client\+Handler\+Bicep.\+U\+P\+D\+A\+T\+E\+\_\+\+S\+T\+A\+TE.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a9634b0b5b3f74403071bf066606a0555}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a9634b0b5b3f74403071bf066606a0555}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!displayField@{displayField}}
\index{displayField@{displayField}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{displayField}{displayField}}
{\footnotesize\ttfamily Text\+View com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+display\+Field\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 28 of file Client\+Listen\+Bicep.\+java.



Referenced by com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+Client\+Listen\+Bicep().

\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a5277e5a6fa795cd86dcc35b08952b17c}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a5277e5a6fa795cd86dcc35b08952b17c}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!port@{port}}
\index{port@{port}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{port}{port}}
{\footnotesize\ttfamily int com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+port\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 26 of file Client\+Listen\+Bicep.\+java.



Referenced by com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+Client\+Listen\+Bicep().

\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a02882f0c88f5713407dbf2630e1909ff}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_a02882f0c88f5713407dbf2630e1909ff}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!serverAddr@{serverAddr}}
\index{serverAddr@{serverAddr}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{serverAddr}{serverAddr}}
{\footnotesize\ttfamily Inet\+Address com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+server\+Addr}



Definition at line 32 of file Client\+Listen\+Bicep.\+java.

\mbox{\Hypertarget{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_aa43b7aebe53f1efa443f014fe5efc7ab}\label{classcom_1_1example_1_1trainawearapplication_1_1_client_listen_bicep_aa43b7aebe53f1efa443f014fe5efc7ab}} 
\index{com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}!udpSocket@{udpSocket}}
\index{udpSocket@{udpSocket}!com.example.trainawearapplication.ClientListenBicep@{com.example.trainawearapplication.ClientListenBicep}}
\subsubsection{\texorpdfstring{udpSocket}{udpSocket}}
{\footnotesize\ttfamily Datagram\+Socket com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+udp\+Socket\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 27 of file Client\+Listen\+Bicep.\+java.



Referenced by com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+Client\+Listen\+Bicep(), and com.\+example.\+trainawearapplication.\+Client\+Listen\+Bicep.\+run().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
D\+:/cloned repo trainawear/train-\/\+A-\/wear/\+Phone App/app/src/main/java/com/example/trainawearapplication/\mbox{\hyperlink{_client_listen_bicep_8java}{Client\+Listen\+Bicep.\+java}}\end{DoxyCompactItemize}
